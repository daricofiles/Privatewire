<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پنل مدیریت WiRe Gaurd پیشرته</title>
    <link href="https://fonts.googleapis.com/css2?family=Nastaliq+Naskh&family=Aref+Ruqaa:wght@700&family=Roboto&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: RED;
            --secondary: green;
            --accent: #f1c40f;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --success: #2ecc71;
            --danger: #e74c3c;
            --info: #3498db;
        }
        
        body {
            font-family: 'Vazirmatn', sans-serif;
            direction: rtl;
            text-align: center;
            background: linear-gradient(135deg, var(--dark), #1a1a2e);
            color: var(--light);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .glass-panel {
            background: rgba(44, 62, 80, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            padding: 30px;
            width: 90%;
            max-width: 800px;
            margin: 30px auto;
            position: relative;
            overflow: hidden;
        }
        
        .glass-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(142, 68, 173, 0.1) 0%, rgba(44, 62, 80, 0) 70%);
            animation: rotate 20s linear infinite;
            z-index: -1;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        h1, h2 {
            font-family: 'Aref Ruqaa', cursive;
            color: var(--accent);
            margin-bottom: 25px;
            text-shadow: 0 0 10px rgba(241, 196, 15, 0.5);
            position: relative;
            display: inline-block;
        }
        
        h1 {
            font-size: 2.5rem;
        }
        
        h2 {
            font-size: 1.8rem;
            margin-top: 30px;
        }
        
        h1::after, h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            height: 3px;
            background: linear-gradient(to right, transparent, var(--accent), transparent);
            border-radius: 3px;
        }
        
        .input-group {
            margin: 20px 0;
            position: relative;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--light);
            font-size: 1.1rem;
            text-align: right;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 15px 20px;
            border-radius: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-family: 'Nastaliq Naskh', cursive;
            font-size: 1rem;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--accent);
            box-shadow: 0 0 10px rgba(241, 196, 15, 0.3);
        }
        
        .btn {
            display: inline-block;
            padding: 12px 25px;
            margin: 15px 8px;
            border-radius: 12px;
            border: none;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            font-family: 'Aref Ruqaa', cursive;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--secondary), var(--primary));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn:hover::after {
            opacity: 1;
        }
        
        .btn span {
            position: relative;
            z-index: 1;
        }
        
        #lockScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            transition: all 0.5s;
        }
        
        .login-box {
            background: rgba(44, 62, 80, 0.8);
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .login-box::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent), var(--primary));
            z-index: -1;
            animation: animate 4s linear infinite;
            background-size: 400%;
            border-radius: 22px;
            opacity: 0.8;
        }
        
        @keyframes animate {
            0% { background-position: 0 0; }
            50% { background-position: 300% 0; }
            100% { background-position: 0 0; }
        }
        
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            animation: float linear infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-1000px) rotate(720deg); opacity: 0; }
        }
        
        .footer {
            margin-top: 25px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .footer a {
            color: var(--accent);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .footer a:hover {
            color: var(--secondary);
            text-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        
        .status-message {
            margin: 20px 0;
            padding: 12px;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .success {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }
        
        .error {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        .info {
            background: rgba(52, 152, 219, 0.2);
            color: var(--info);
            border: 1px solid var(--info);
        }
        
        .floating-icons {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }
        
        .floating-icon {
            position: absolute;
            opacity: 0.1;
            animation: floatIcon linear infinite;
        }
        
        @keyframes floatIcon {
            0% { transform: translateY(0) rotate(0deg); }
            100% { transform: translateY(-100vh) rotate(360deg); }
        }
        
        /* استایل‌های جدید */
        .form-container {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        .config-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .config-list {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .config-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }
        
        .config-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }
        
        .config-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .config-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent);
        }
        
        .config-status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
        }
        
        .status-active {
            background: rgba(46, 204, 113, 0.2);
            color: var(--success);
        }
        
        .status-inactive {
            background: rgba(231, 76, 60, 0.2);
            color: var(--danger);
        }
        
        .status-expired {
            background: rgba(149, 165, 166, 0.2);
            color: #bdc3c7;
        }
        
        .config-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }
        
        .detail-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 8px;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .detail-value {
            color: var(--accent);
            font-weight: bold;
            margin-top: 3px;
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
            margin: 5px;
        }
        
        .btn-active {
            background: linear-gradient(45deg, var(--success), #27ae60) !important;
        }
        
        .btn-inactive {
            background: linear-gradient(45deg, var(--danger), #c0392b) !important;
        }
        
        .btn-download {
            background: linear-gradient(45deg, var(--info), #2980b9) !important;
        }
        
        .btn-active:hover::after, .btn-inactive:hover::after, .btn-download:hover::after {
            opacity: 0 !important;
        }
        
        .empty-list {
            padding: 20px;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }
    </style>
</head>
<body>

    <div id="lockScreen">
        <div class="particles" id="particles"></div>
        <div class="login-box">
            <h1 style="color: var(--accent);">پنل مدیریت WiRe Gaurd</h1>
            <div class="input-group">
                <input type="password" id="passwordInput" placeholder="رمز عبور" required>
            </div>
            <button class="btn" onclick="checkPassword()"><span>ورود به پنل</span></button>
            <div class="footer">
                ارتباط با پشتیبانی: <a href="https://t.me/Ijustwantyou_yez" target="_blank">@IJUSTWANTYOU_YEZ</a>
            </div>
        </div>
    </div>

    <div id="mainContent" style="display: none;">
        <div class="floating-icons" id="floatingIcons"></div>
        <div class="glass-panel">
            <h1>پنل مدیریت WiRe Gaurd پیشرفته</h1>
            
            <div class="form-container">
                <h2>ایجاد کانفیگ جدید</h2>
                
                <div class="config-grid">
                    <div class="input-group">
                        <label for="configName">نام کانفیگ</label>
                        <input type="text" id="configName" placeholder="مثال: config-01">
                    </div>
                    
                    <div class="input-group">
                        <label for="userCount">تعداد کاربر</label>
                        <input type="number" id="userCount" placeholder="مثال: 1" min="1" value="1">
                    </div>
                </div>
                
                <div class="config-grid">
                    <div class="input-group">
                        <label for="duration">مدت زمان (روز)</label>
                        <input type="number" id="duration" placeholder="مثال: 30" min="1" value="30">
                    </div>
                    
                    <div class="input-group">
                        <label for="size">حجم ترافیک (گیگابایت)</label>
                        <input type="number" id="size" placeholder="مثال: 20" min="1" step="0.1" value="20">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="server">نوع سرور</label>
                    <select id="server">
                        <option value="vip">VIP</option>
                        <option value="premium">Premium</option>
                        <option value="normal">Normal</option>
                    </select>
                </div>
                
                <div id="statusMessage" class="status-message"></div>
                
                <button class="btn" onclick="generateConfig()"><span>ایجاد کانفیگ</span></button>
            </div>
            
            <h2>کانفیگ‌های ایجاد شده</h2>
            <div id="configList" class="config-list">
                <!-- لیست کانفیگ‌ها اینجا نمایش داده می‌شود -->
            </div>
            
            <div class="footer">
                <a href="https://t.me/ijustwantyou_yez" target="_blank">طراحی شده توسط @ijustwantyou_yez</a> 
            </div>
        </div>
    </div>

    <script>
        let configs = [];
        
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 5 + 1;
                const posX = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 10;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.bottom = `-${size}px`;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                
                container.appendChild(particle);
            }
        }
        
        function createFloatingIcons() {
            const container = document.getElementById('floatingIcons');
            const icons = ['✯', '✦', '✧', '✪', '✫', '✬', '✭', '✮', '✯'];
            const iconCount = 15;
            
            for (let i = 0; i < iconCount; i++) {
                const icon = document.createElement('div');
                icon.classList.add('floating-icon');
                icon.textContent = icons[Math.floor(Math.random() * icons.length)];
                
                const size = Math.random() * 20 + 10;
                const posX = Math.random() * 100;
                const duration = Math.random() * 30 + 20;
                const delay = Math.random() * 15;
                
                icon.style.fontSize = `${size}px`;
                icon.style.left = `${posX}%`;
                icon.style.bottom = `-${size}px`;
                icon.style.animationDuration = `${duration}s`;
                icon.style.animationDelay = `${delay}s`;
                
                container.appendChild(icon);
            }
        }
        
        function loadConfigs() {
            const savedConfigs = localStorage.getItem('vpnConfigs');
            if (savedConfigs) {
                configs = JSON.parse(savedConfigs);
                renderConfigList();
            }
        }
        
        function saveConfigs() {
            localStorage.setItem('vpnConfigs', JSON.stringify(configs));
        }
        
        function renderConfigList() {
            const container = document.getElementById('configList');
            
            if (configs.length === 0) {
                container.innerHTML = '<div class="empty-list">هنوز کانفیگی ایجاد نشده است</div>';
                return;
            }
            
            container.innerHTML = '';
            
            configs.forEach((config, index) => {
                const configElement = document.createElement('div');
                configElement.className = 'config-item';
                configElement.innerHTML = `
                    <div class="config-header">
                        <div class="config-name">${config.name}</div>
                        <div class="config-status ${getStatusClass(config)}">${getStatusText(config)}</div>
                    </div>
                    
                    <div class="config-details">
                        <div class="detail-item">
                            <div>تاریخ ایجاد</div>
                            <div class="detail-value">${formatDate(config.creationDate)}</div>
                        </div>
                        <div class="detail-item">
                            <div>تعداد کاربر</div>
                            <div class="detail-value">${config.userCount}</div>
                        </div>
                        <div class="detail-item">
                            <div>مدت زمان</div>
                            <div class="detail-value">${config.duration} روز</div>
                        </div>
                        <div class="detail-item">
                            <div>حجم ترافیک</div>
                            <div class="detail-value">${config.size} گیگابایت</div>
                        </div>
                    </div>
                    
                    <div class="config-details">
                        <div class="detail-item">
                            <div>زمان باقی‌مانده</div>
                            <div class="detail-value">${getRemainingTime(config)}</div>
                        </div>
                        <div class="detail-item">
                            <div>ترافیک مصرفی</div>
                            <div class="detail-value">${config.usedTraffic.toFixed(1)} گیگابایت</div>
                        </div>
                        <div class="detail-item">
                            <div>ترافیک باقی‌مانده</div>
                            <div class="detail-value">${(config.size - config.usedTraffic).toFixed(1)} گیگابایت</div>
                        </div>
                        <div class="detail-item">
                            <div>نوع سرور</div>
                            <div class="detail-value">${getServerName(config.server)}</div>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-small ${config.active ? 'btn-inactive' : 'btn-active'}" 
                                onclick="toggleConfigStatus(${index})">
                            <span>${config.active ? 'غیرفعال کردن' : 'فعال کردن'}</span>
                        </button>
                        <button class="btn btn-small btn-download" onclick="downloadConfig(${index})">
                            <span>دانلود کانفیگ</span>
                        </button>
                        <button class="btn btn-small" onclick="deleteConfig(${index})" style="background: linear-gradient(45deg, #e74c3c, #c0392b)">
                            <span>حذف</span>
                        </button>
                    </div>
                `;
                
                container.appendChild(configElement);
            });
        }
        

        function getServerName(serverType) {
            const servers = {
                'vip': 'VIP',
                'premium': 'Premium',
                'normal': 'Normal'
            };
            return servers[serverType] || serverType;
        }
        
        function getStatusClass(config) {
            if (config.active) return 'status-active';
            if (new Date(config.expirationDate) < new Date()) return 'status-expired';
            return 'status-inactive';
        }
        
        function getStatusText(config) {
            if (config.active) return 'فعال';
            if (new Date(config.expirationDate) < new Date()) return 'منقضی شده';
            return 'غیرفعال';
        }
        
        function getRemainingTime(config) {
            if (!config.active) return '--';
            
            const now = new Date();
            const expDate = new Date(config.expirationDate);
            
            if (expDate < now) return 'منقضی شده';
            
            const diff = expDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            
            return `${days} روز و ${hours} ساعت`;
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('fa-IR');
        }
        
        window.onload = function() {
            createParticles();
            createFloatingIcons();
            loadConfigs();
        };
        
        function checkPassword() {
            let password = document.getElementById("passwordInput").value;
            if (password === "99") {
                document.getElementById("lockScreen").style.opacity = "0";
                setTimeout(() => {
                    document.getElementById("lockScreen").style.display = "none";
                    document.getElementById("mainContent").style.display = "block";
                }, 500);
            } else {
                showStatus("رمز عبور اشتباه است!", "error");
                document.getElementById("passwordInput").value = "";
            }
        }
        
        function showStatus(message, type) {
            const status = document.getElementById("statusMessage");
            status.textContent = message;
            status.className = `status-message ${type}`;
            setTimeout(() => {
                status.textContent = "";
                status.className = "status-message";
            }, 3000);
        }
        

        function generateConfig() {
            const configName = document.getElementById("configName").value.trim();
            const duration = parseInt(document.getElementById("duration").value);
            const size = parseFloat(document.getElementById("size").value);
            const userCount = parseInt(document.getElementById("userCount").value);
            const server = document.getElementById("server").value;
            
            if (!configName) {
                showStatus("لطفاً نام کانفیگ را وارد کنید", "error");
                return;
            }
            
            if (!duration || duration <= 0) {
                showStatus("لطفاً مدت زمان را وارد کنید", "error");
                return;
            }
            
            if (!size || size <= 0) {
                showStatus("لطفاً حجم ترافیک را وارد کنید", "error");
                return;
            }
            
            if (!userCount || userCount <= 0) {
                showStatus("لطفاً تعداد کاربر را وارد کنید", "error");
                return;
            }
            
            const newConfig = {
                id: Date.now(),
                name: configName,
                duration: duration,
                size: size,
                userCount: userCount,
                server: server,
                creationDate: new Date().toISOString(),
                expirationDate: new Date(Date.now() + duration * 24 * 60 * 60 * 1000).toISOString(),
                usedTraffic: 0,
                active: false
            };
            
            configs.push(newConfig);
            saveConfigs();
            renderConfigList();
            
            showStatus("کانفیگ جدید با موفقیت ایجاد شد", "success");
            

            document.getElementById("configName").value = "";
        }
        
        function toggleConfigStatus(index) {
            configs[index].active = !configs[index].active;
            
            if (configs[index].active) {
                const duration = configs[index].duration;
                configs[index].expirationDate = new Date(Date.now() + duration * 24 * 60 * 60 * 1000).toISOString();
            }
            
            saveConfigs();
            renderConfigList();
            
            const status = configs[index].active ? "فعال" : "غیرفعال";
            showStatus(`کانفیگ ${configs[index].name} با موفقیت ${status} شد`, "success");
        }
        
        function deleteConfig(index) {
            const configName = configs[index].name;
            configs.splice(index, 1);
            saveConfigs();
            renderConfigList();
            showStatus(`کانفیگ ${configName} با موفقیت حذف شد`, "success");
        }
        
        async function generatePrivateKey() {
            const key = new Uint8Array(32);
            window.crypto.getRandomValues(key);
            return btoa(String.fromCharCode(...key));
        }
        
        function generateRandomIP() {
            return "10.0." + (Math.floor(Math.random() * 256)) + "." + (Math.floor(Math.random() * 256));
        }
        
        function generateRandomPort() {
            return Math.floor(Math.random() * 20000) + 10000;
        }
        
        async function downloadConfig(index) {
            const config = configs[index];
            const status = document.getElementById("statusMessage");
            status.textContent = "در حال تولید کانفیگ... لطفاً صبر کنید";
            status.className = "status-message";
            
            try {
                let privateKey = await generatePrivateKey();
                let address = generateRandomIP() + "/24";
                let port = generateRandomPort();
                let dns = `78.157.42.101, 10.202.10.10, 6274:bfd5:408a:e537:e519:5e4f:d5fa:4f1e, 667b:81fd:8172:e1a2:86ae:dd2e:7e6a:b3f4, e3f7:b5ac:8a76:ad05:4b95:bed5:fe90:b60f, c8ed:1675:aaa8:d4fb:3602:a937:cbd5:ba24, d872:6c99:9404:e180:16d9:4b5a:d95c:e99, b5c:2cac:4f85:986e:ae1f:4cf2:9e23:b5f3, deac:6b9c:65e:38ac:78cc:90ea:c6a7:37e9, 7abe:a1db:4d93:c39c:5a7:6a29:ab91:39e7, 92d2:d0ec:6aa3:4120:d974:9788:3c2f:46ea, cb78:f5e3:f9af:6405:652b:a84a:5102:6de9, d2fb:2699:8162:ba72:1379:a8f2:226a:f76a, af78:f35f:3055:38ce:f13d:38fa:836a:7629, cb39:fd31:8e7:675c:7d48:3a69:f89c:8a9b, d842:5e1b:9842:a752:ba11:f4e2:fb8a:ab9e, f55a:bb77:81ab:ce7a:7a51:a479:665f:b521, 89a2:7598:19a3:5338:add3:57ef:6b6e:d3d6, a596:e108:e002:f3c3:5c5a:4ef2:fe10:e8b4, 342c:9a76:b69e:7fbb:14ef:3dd3:c286:7db5, da26:914:3f95:96f2:6f01:191d:c2ce:3a06, 390:bdb3:ca77:f67d:38b2:d3fd:38df:192b, 5e39:ef8a:cc14:761f:da38:2915:7acd:779, 4980:45d8:33d7:c63a:7d9:e140:4804:567d, d4a1:466c:4efb:c407:509f:91f7:b0c3:a476, 7c24:a5eb:5a1c:df5:efee:a7ef:2103:710f, 265d:c470:f5a3:6ddb:fb7e:beac:3b92:e435, d2ee:8c3:5664:5537:be37:74d2:dafd:372a, 9d04:2836:efc6:f6e0:b444:6a16:677c:cb4d, 8141:1ef9:19:ccb4:6323:8b53:7459:981f, 1729:df35:1666:6eff:6ed6:c7a7:8024:fc23, 1d82:69a9:db8e:2ba:a68c:b6b1:9ae7:3d5, 459:edc1:d25a:3236:5bf0:1918:2d80:5f17, 2144:98d7:210f:59bd:66d3:9782:f75e:b387, c3dd:9376:dfd4:10b1:d582:2dbb:2f80:e72d, cdf9:92f9:bd85:55a0:f850:7f13:aa4a:fb05, b1ed:7504:8730:d977:61b1:c326:b94e:fdd5, 7de7:f5c7:b880:abb8:ffb0:71ba:2641:9bc0, 277f:2502:eb2f:33a9:3bc0:7f87:9e4c:efaf, 3baf:6de:1407:825:f0ee:cba2:7d00:e68b, 488d:82da:afbb:8f45:8f7d:f581:c2b5:39b2, a0b2:24d5:963b:503:d0:539:c1e8:c0da`;

                let configText = `[Interface]
PrivateKey = ${privateKey}
Address = ${address}
ListenPort = ${port}
DNS = ${dns}

[Peer]
PublicKey = fh9AAOXeha4QTp6+aEOQISqBD2pGMX1FMqhtM0NkmRY=
AllowedIPs = 162.159.192.124/32
Endpoint = wireguard-de-1.vpnv.cc:51820

# برای خرید پنل : @ijustwantyou_yez
# https://t.me/cfg_client_mod`;

                // تنظیم نام فایل
                let configName = config.name;
                if(!configName.endsWith(".conf")) {
                    configName += ".conf";
                }

                // ذخیره در فایل
                let blob = new Blob([configText], { type: "application/octet-stream" });
                let a = document.createElement("a");
                a.href = URL.createObjectURL(blob);
                a.download = configName;
                a.style.display = "none";
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                status.textContent = "کانفیگ با موفقیت دانلود شد!";
                status.className = "status-message success";
                
                // افزایش ترافیک مصرفی
                config.usedTraffic += 0.1; // 0.1 گیگابایت برای هر دانلود
                saveConfigs();
                renderConfigList();
                
            } catch (error) {
                status.textContent = "خطا در تولید کانفیگ! لطفاً مجدداً تلاش کنید";
                status.className = "status-message error";
                console.error(error);
            }
        }
    </script>
</body>
</html>